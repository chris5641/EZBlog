{% extends "admin_base.html" %}
{% import "_pagination.html" as macros %}

{% block headcontainer %}
    <div class="page-header">
        <h1>评论管理</h1>
    </div>
    <div>
        {% for c in comments %}
            <div class="comment-manage">
                <p><a class="title" href="{{ c.website }}" target="_blank"><strong>{{ c.name }}</strong></a>
                    &nbsp;评论了&nbsp;<a class="title" href="{{ url_for('main.blog_view', blog_id=c.blog.id) }}#{{ c.id }}"><strong>{{ c.blog.title }}</strong></a></p>
                <p class="{% if c.is_block %}comment-body-blcok{% endif %}" style="margin-left: 10px">{{ c.content }}</p>
                <span><i class="fa fa-calendar"></i> {{ moment(c.createtime).format("YYYY-MM-DD HH:mm") }}</span>
                <a href="{{ url_for('admin.comment_delete', comment_id=c.id) }}"
                   class="btn btn-xs btn-danger pull-right" style="margin: 0 5px;">删除</a>
                {% if c.is_block %}
                    <a href="{{ url_for('admin.comment_unblock', comment_id=c.id) }}"
                       class="btn btn-xs btn-success pull-right">恢复</a>
                {% else %}
                    <a href="{{ url_for('admin.comment_block', comment_id=c.id) }}"
                       class="btn btn-xs btn-warning pull-right">隐藏</a>
                {% endif %}
            </div>
        {% endfor %}
    </div>
    <div class="pagebar">
        {{ macros.pagination_widget(pagination, 'admin.comments_manage') }}
    </div>
{% endblock %}